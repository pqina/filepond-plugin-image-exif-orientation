/*!
 * FilePondPluginImageExifOrientation 1.0.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

const A=65496,e=65505,t=1165519206,n=18761,i=274,o=65280,a=(A,e,t=!1)=>A.getUint16(e,t),r=(A,e,t=!1)=>A.getUint32(e,t);let s=void 0;const d=new Image;d.onload=(()=>s=d.naturalWidth>d.naturalHeight),d.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";const l=({addFilter:d,utils:l})=>{const{Type:g,isFile:c}=l;return d("DID_LOAD_ITEM",(d,{query:l})=>new Promise((g,f)=>{const u=d.file;if(!(c(u)&&(A=>/^image\/jpeg/.test(A.type))(u)&&l("GET_ALLOW_IMAGE_EXIF_ORIENTATION")&&(()=>s)()))return g(d);(s=>new Promise((d,l)=>{const g=new FileReader;g.onload=function(s){const l=new DataView(s.target.result);if(a(l,0)!==A)return void d(-1);const g=l.byteLength;let c=2;for(;c<g;){const A=a(l,c);if(c+=2,A===e){if(r(l,c+=2)!==t)break;const A=a(l,c+=6)===n;c+=r(l,c+4,A);const e=a(l,c,A);c+=2;for(let t=0;t<e;t++)if(a(l,c+12*t,A)===i)return void d(a(l,c+12*t+8,A))}else{if((A&o)!==o)break;c+=a(l,c)}}d(-1)},g.readAsArrayBuffer(s.slice(0,65536))}))(u).then(A=>{d.setMetadata("exif",{orientation:A}),g(d)})})),{options:{allowImageExifOrientation:[!0,g.BOOLEAN]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:l}));export default l;
