/*!
 * FilePondPluginImageExifOrientation 1.0.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

!function(A,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(A=A||self).FilePondPluginImageExifOrientation=e()}(this,function(){"use strict";var A=65496,e=65505,n=1165519206,t=18761,i=274,r=65280,o=function(A,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return A.getUint16(e,n)},a=function(A,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return A.getUint32(e,n)},u=void 0,f=new Image;f.onload=function(){return u=f.naturalWidth>f.naturalHeight},f.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";var d=function(f){var d=f.addFilter,l=f.utils,g=l.Type,s=l.isFile;return d("DID_LOAD_ITEM",function(f,d){var l=d.query;return new Promise(function(d,g){var c=f.file;if(!(s(c)&&function(A){return/^image\/jpeg/.test(A.type)}(c)&&l("GET_ALLOW_IMAGE_EXIF_ORIENTATION")&&u))return d(f);(function(u){return new Promise(function(f,d){var l=new FileReader;l.onload=function(u){var d=new DataView(u.target.result);if(o(d,0)===A){for(var l=d.byteLength,g=2;g<l;){var s=o(d,g);if(g+=2,s===e){if(a(d,g+=2)!==n)break;var c=o(d,g+=6)===t;g+=a(d,g+4,c);var v=o(d,g,c);g+=2;for(var w=0;w<v;w++)if(o(d,g+12*w,c)===i)return void f(o(d,g+12*w+8,c))}else{if((s&r)!==r)break;g+=o(d,g)}}f(-1)}else f(-1)},l.readAsArrayBuffer(u.slice(0,65536))})})(c).then(function(A){f.setMetadata("exif",{orientation:A}),d(f)})})}),{options:{allowImageExifOrientation:[!0,g.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:d})),d});
